# æ–°æ¶æ§‹å¤šå‡ºä¾†çš„éƒ¨åˆ†

## ğŸ“Š ç°¡å–®å°æ¯”

### åŸæœ¬ï¼ˆJSONB æ–¹å¼ï¼‰
```
åªæœ‰ 3 å€‹è¡¨ï¼š
â”œâ”€â”€ Assignment
â”œâ”€â”€ StudentAssignment
â””â”€â”€ StudentContentProgress
    â””â”€â”€ response_data: JSONB å¤§é›œç‡´
        â”œâ”€â”€ recordings: ["url1", "url2", "url3"]
        â”œâ”€â”€ answers: ["ans1", "ans2", "ans3"]
        â””â”€â”€ ai_assessments: [{...}, {...}, {...}]
```

### ç¾åœ¨ï¼ˆç¨ç«‹è¡¨æ ¼æ–¹å¼ï¼‰
```
æœ‰ 5 å€‹è¡¨ï¼š
â”œâ”€â”€ Assignment
â”œâ”€â”€ StudentAssignment
â”œâ”€â”€ StudentContentProgressï¼ˆä¿ç•™ä½œç‚ºæ‘˜è¦ï¼‰
â”œâ”€â”€ ğŸ†• ContentItemï¼ˆé¡Œç›®è¡¨ï¼‰
â””â”€â”€ ğŸ†• StudentItemProgressï¼ˆæ¯é¡Œé€²åº¦è¡¨ï¼‰
```

## ğŸ†• å…·é«”å¤šå‡ºä¾†ä»€éº¼ï¼Ÿ

### 1. ContentItem è¡¨ï¼ˆé¡Œç›®è¡¨ï¼‰
**ä½œç”¨**ï¼šæŠŠåŸæœ¬çš„ `Content.items` JSONB é™£åˆ—æ‹†é–‹

**åŸæœ¬**ï¼š
```json
Content.items = [
  {"text": "I am happy", "translation": "æˆ‘å¾ˆé–‹å¿ƒ"},
  {"text": "You are sad", "translation": "ä½ å¾ˆé›£é"},
  {"text": "He is tall", "translation": "ä»–å¾ˆé«˜"}
]
```

**ç¾åœ¨**ï¼š
```sql
ContentItem è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ content_id â”‚ order_index â”‚ text        â”‚ translation  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 23         â”‚ 0           â”‚ I am happy  â”‚ æˆ‘å¾ˆé–‹å¿ƒ     â”‚
â”‚ 2  â”‚ 23         â”‚ 1           â”‚ You are sad â”‚ ä½ å¾ˆé›£é     â”‚
â”‚ 3  â”‚ 23         â”‚ 2           â”‚ He is tall  â”‚ ä»–å¾ˆé«˜       â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. StudentItemProgress è¡¨ï¼ˆæ¯é¡Œé€²åº¦è¡¨ï¼‰
**ä½œç”¨**ï¼šæŠŠåŸæœ¬çš„ `response_data` JSONB æ‹†é–‹

**åŸæœ¬**ï¼š
```json
response_data = {
  "recordings": ["", "audio2.webm", "audio3.webm"],
  "ai_assessments": [null, {"accuracy": 85}, {"accuracy": 90}]
}
```

**ç¾åœ¨**ï¼š
```sql
StudentItemProgress è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ student_assignment  â”‚ content_item_id â”‚ recording_url   â”‚ accuracy_score â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ 365                 â”‚ 1               â”‚ NULL            â”‚ NULL           â”‚
â”‚ 2  â”‚ 365                 â”‚ 2               â”‚ audio2.webm     â”‚ 85.00          â”‚
â”‚ 3  â”‚ 365                 â”‚ 3               â”‚ audio3.webm     â”‚ 90.00          â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— æ–°å¢çš„é—œè¯

### 1. ContentItem â†’ Content
```
ContentItem.content_id â†’ Content.id
ï¼ˆæ¯å€‹é¡Œç›®çŸ¥é“è‡ªå·±å±¬æ–¼å“ªå€‹å…§å®¹çµ„ï¼‰
```

### 2. StudentItemProgress â†’ ContentItem
```
StudentItemProgress.content_item_id â†’ ContentItem.id
ï¼ˆæ¯å€‹é€²åº¦çŸ¥é“è‡ªå·±å°æ‡‰å“ªä¸€é¡Œï¼‰
```

## ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ

**å°±æ˜¯æŠŠã€Œé™£åˆ—ã€è®Šã€Œè¡¨æ ¼ã€ï¼š**

| åŸæœ¬ | ç¾åœ¨ |
|------|------|
| JSONB é™£åˆ—ï¼ˆç„¡ç´„æŸï¼‰ | è³‡æ–™è¡¨ï¼ˆæœ‰å¤–éµç´„æŸï¼‰ |
| æ‰‹å‹•ç®¡ç†ç´¢å¼• | è³‡æ–™åº«è‡ªå‹•ç®¡ç† ID |
| å®¹æ˜“éŒ¯ä½ | ä¸å¯èƒ½éŒ¯ä½ |
| é›£ä»¥æŸ¥è©¢ | å®¹æ˜“æŸ¥è©¢ |

## ğŸ¯ å¯¦éš›å¤§å°

- **ContentItem**ï¼š122 ç­†è¨˜éŒ„ï¼ˆåŸæœ¬æ˜¯ 25 å€‹ Contentï¼Œæ¯å€‹å¹³å‡ 5 é¡Œï¼‰
- **StudentItemProgress**ï¼š95 ç­†è¨˜éŒ„ï¼ˆå­¸ç”Ÿå·²ç¶“ç­”é¡Œçš„è¨˜éŒ„ï¼‰

**ç¸½çµï¼šå¤šäº† 2 å€‹è¡¨ï¼Œä½†è§£æ±ºäº†é™£åˆ—åŒæ­¥çš„æ ¹æœ¬å•é¡Œï¼**
