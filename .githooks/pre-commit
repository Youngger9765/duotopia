#!/bin/bash
# Pre-commit hook - åœ¨ commit å‰åŸ·è¡ŒåŸºæœ¬æª¢æŸ¥

echo "ğŸ” åŸ·è¡Œ pre-commit æª¢æŸ¥..."

# TypeScript å‹åˆ¥æª¢æŸ¥
echo "ğŸ“ æª¢æŸ¥ TypeScript å‹åˆ¥..."
npm run typecheck
if [ $? -ne 0 ]; then
    echo "âŒ TypeScript å‹åˆ¥æª¢æŸ¥å¤±æ•—ï¼"
    exit 1
fi

# å»ºç½®æ¸¬è©¦
echo "ğŸ”¨ æ¸¬è©¦å»ºç½®..."
npm run build
if [ $? -ne 0 ]; then
    echo "âŒ å»ºç½®å¤±æ•—ï¼"
    exit 1
fi

echo "âœ… Pre-commit æª¢æŸ¥é€šéï¼"