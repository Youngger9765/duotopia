# Deploy to Production with Cloud SQL
# ÁîüÁî¢Áí∞Â¢É‰ΩøÁî® Cloud SQL ($2.28/day)
#
# ÂïüÁî®ÊñπÂºèÔºö
# 1. mv deploy-production-cloudsql.yml.backup deploy-production.yml
# 2. git add -A && git commit -m "Enable production with Cloud SQL" && git push

name: Deploy to Production (Cloud SQL)

on:
  workflow_dispatch:
  push:
    branches: [ main, master ]

env:
  PROJECT_ID: duotopia-469413
  REGION: asia-east1
  BACKEND_SERVICE: duotopia-production-backend
  FRONTEND_SERVICE: duotopia-production-frontend
  REPOSITORY: duotopia-repo

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Deploy Production with Cloud SQL
      run: |
        echo "üí∞ Deploying to Production with Cloud SQL ($2.28/day)"
        # Production deployment with Cloud SQL...
