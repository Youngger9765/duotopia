# 釐清問題

權限控制策略應採用哪種模式？

# 定位

ERM：Permission 實體的設計方式，以及權限驗證的核心邏輯。

# 多選題

| 選項 | 描述                                                                 |
| ---- | -------------------------------------------------------------------- |
| A    | 基於角色的訪問控制（RBAC）：角色 → 權限 → 資源                       |
| B    | 基於屬性的訪問控制（ABAC）：根據用戶屬性、資源屬性、環境屬性動態判斷 |
| C    | 混合模式（角色 + 資源所有權）：RBAC + 資源擁有者檢查                 |
| D    | 簡單所有權模式：僅檢查資源擁有者，無角色概念                         |

# 影響範圍

- Permission/Policy 資料表設計
- 權限驗證邏輯的複雜度
- 細粒度權限控制的可行性
- 與現有 Casbin 整合方式
- API 層級的權限檢查實作

# 優先級

High

---

# 解決記錄

- **回答**：C - 混合模式（角色 + 資源所有權），細分為：個人教師後台使用 D（所有權模式）、機構後台使用 A（RBAC）、整體系統 C（混合）
- **更新的規格檔**：docs/specs/user-roles-and-permissions.md
- **變更內容**：在「權限控制策略」章節記錄採用兩個後台分別使用不同策略：個人教師後台（所有權模式）+ 機構後台（Casbin RBAC）
