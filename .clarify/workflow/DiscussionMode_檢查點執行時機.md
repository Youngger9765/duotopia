# 釐清問題

「關鍵檢查點」中列出的 4 項檢查應該在何時執行？

# 定位

discussion.md：關鍵檢查點章節，目前列出了 4 項檢查清單，但未說明在何時執行這些檢查。

# 多選題

| 選項 | 描述                                                                   |
| ---- | ---------------------------------------------------------------------- |
| A    | 每次回應前都執行完整檢查（確保絕不違規）                               |
| B    | 僅在特定階段轉換時執行（討論 → 執行、提出建議 → 等待決策等關鍵轉換點） |
| C    | 每 3-5 輪對話執行一次檢查（定期自我檢視）                              |
| D    | 僅在用戶明確要求或 AI 自我懷疑時執行（按需檢查）                       |
| E    | 混合模式：階段轉換時必檢，討論過程中每 5 輪執行一次自我檢查            |

# 影響範圍

- AI 行為準確性（檢查頻率影響違規機率）
- 回應速度（頻繁檢查可能影響效率）
- discussion.md 的「關鍵檢查點」章節內容
- AI 自我監控機制的實作方式

# 優先級

Medium

---

# 解決記錄

- **回答**：B + D - 階段轉換時必檢 + 按需檢查

- **說明**：

  **必要檢查時機：階段轉換**

  - 討論 → 執行階段轉換時
  - 提出建議 → 等待決策時
  - 收集資訊 → 提出選項時
  - 任何可能觸發實作行為的轉換點

  **選擇性檢查時機：按需執行**

  - 用戶明確要求檢查時（例如：「確認一下你現在的狀態」）
  - AI 自我懷疑時（例如：不確定是否應該進入執行階段）
  - 發現自己可能違反規則時（例如：差點在討論階段執行實作）

  **檢查項目**

  - [ ] 是否在未獲得同意的情況下進行實作？
  - [ ] 是否有未確認的假設或不確定項？
  - [ ] 是否提供了足夠的選項讓用戶決策？
  - [ ] 是否等待明確的執行指令？

  **效率平衡**

  - 階段轉換時的檢查確保關鍵時刻不出錯
  - 按需檢查避免過度頻繁影響效率
  - 不需要每次回應都執行檢查（避免過度謹慎）

- **更新的規格檔**：docs/references/bdd-prompts/basic/discussion.md
- **變更內容**：擴充「關鍵檢查點」章節，明確檢查執行時機和檢查項目
