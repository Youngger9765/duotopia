# language: zh-TW
功能: 個人教師與機構教師視圖切換
  作為 已註冊的個人教師並被加入機構
  我希望能夠在個人教師後台中切換「個人視圖」與「機構視圖」
  以便分別管理個人資料和機構資料

  背景:
    假設 我是已註冊的個人教師 "lee@teacher.com"
    而且 我有個人建立的班級 "個人班級A"
    而且 我有個人建立的教材 "個人教材1"
    而且 我有個人建立的學生 "個人學生1"

  規則: 個人教師被加入機構成為機構教師
    
    場景: 個人教師被指派到機構學校
      假設 機構 "ABC 教育集團" 已建立
      而且 機構有學校 "台北分校"
      當 機構擁有人將我加入機構
      而且 機構擁有人指派我到 "台北分校"
      那麼 我應成功加入機構
      而且 我應獲得機構教師角色（teacher）
      而且 我應能在個人教師後台看到視圖切換下拉選單
    
    場景: 個人教師被指派到機構多所學校
      假設 機構 "ABC 教育集團" 有學校 "台北分校" 和 "新竹分校"
      而且 我已加入機構
      當 機構擁有人指派我到 "台北分校"
      而且 機構擁有人指派我到 "新竹分校"
      那麼 我應能在視圖切換下拉選單中看到 "台北分校"
      而且 我應能在視圖切換下拉選單中看到 "新竹分校"
  
  規則: 機構教師被指派為學校班級老師
    
    場景: 機構教師被指派為班級老師
      假設 我已加入機構 "ABC 教育集團"
      而且 我已被指派到 "台北分校"
      而且 "台北分校" 有班級 "一年A班"
      當 機構擁有人指派我為 "一年A班" 的老師
      那麼 我應成功成為 "一年A班" 的老師
      而且 我應能在個人教師後台看到 "一年A班"
    
    場景: 機構教師被指派為多個班級老師
      假設 我已加入機構 "ABC 教育集團"
      而且 我已被指派到 "台北分校"
      而且 "台北分校" 有班級 "一年A班" 和 "一年B班"
      當 機構擁有人指派我為 "一年A班" 的老師
      而且 機構擁有人指派我為 "一年B班" 的老師
      那麼 我應能在個人教師後台看到 "一年A班" 和 "一年B班"
  
  規則: 在個人教師後台切換視圖
    
    場景: 機構教師查看視圖切換下拉選單
      假設 我已加入機構 "ABC 教育集團"
      而且 我已被指派到 "台北分校"
      當 我登入並進入個人教師後台
      而且 我點擊視圖切換下拉選單
      那麼 我應看到以下選項
        | 視圖選項                     |
        | 個人視圖                     |
        | 機構視圖 - 台北分校          |
    
    場景: 選擇個人視圖查看個人資料
      假設 我在個人教師後台
      而且 我被指派為 "台北分校" 的 "一年A班" 老師
      當 我選擇視圖 "個人視圖"
      那麼 我應只看到個人建立的班級 "個人班級A"
      而且 我應只看到個人建立的教材 "個人教材1"
      而且 我應只看到個人建立的學生 "個人學生1"
      而且 我不應看到機構班級
      而且 我不應看到機構教材
      而且 我不應看到機構學生
    
    場景: 選擇機構視圖查看機構資料（已被指派班級）
      假設 我在個人教師後台
      而且 我被指派為 "台北分校" 的 "一年A班" 老師
      當 我選擇視圖 "機構視圖 - 台北分校"
      那麼 我應只看到機構教材
      而且 我應只看到機構班級 "一年A班"
      而且 我應只看到機構學生（一年A班的學生）
      而且 我不應看到個人建立的班級
      而且 我不應看到個人建立的教材
      而且 我不應看到個人建立的學生
    
    場景: 選擇機構視圖但未被指派班級
      假設 我在個人教師後台
      而且 我已加入機構 "ABC 教育集團"
      而且 我已被指派到 "台北分校"
      但是 我尚未被指派為任何班級的老師
      當 我選擇視圖 "機構視圖 - 台北分校"
      那麼 我應看到提示訊息 "您尚未被指派任何班級"
      而且 我應只看到機構教材
      而且 我不應看到任何班級
      而且 我不應看到任何學生
    
    場景: 在機構視圖中管理被指派的班級
      假設 我在個人教師後台
      而且 我選擇視圖 "機構視圖 - 台北分校"
      而且 我被指派為 "一年A班" 老師
      當 我選擇 "一年A班"
      那麼 我應能看到班級學生名單
      而且 我應能指派作業
      而且 我應能批改作業
      而且 我應能查看學生成績報表
  
  規則: 機構管理者可切換到機構管理後台
    
    場景: 機構管理者看到進入機構管理後台的選項
      假設 我已加入機構 "ABC 教育集團"
      而且 我擁有 "org_admin" 角色
      當 我登入個人教師後台
      那麼 我應看到 "進入機構管理後台" 按鈕
    
    場景: 純教師角色不能訪問機構管理後台
      假設 我已加入機構 "ABC 教育集團"
      而且 我只有 "teacher" 角色
      而且 我沒有被指派為 "org_admin"、"school_principal" 或 "school_admin"
      當 我登入個人教師後台
      那麼 我不應看到 "進入機構管理後台" 按鈕
      而且 我只應能使用視圖切換功能
    
    場景: 機構管理者進入機構管理後台
      假設 我擁有 "org_admin" 角色
      而且 我在個人教師後台
      當 我點擊 "進入機構管理後台"
      那麼 我應進入機構管理後台
      而且 我應看到 "管理機構資訊" 功能
      而且 我應看到 "管理學校" 功能
      而且 我應看到 "管理機構教師" 功能
